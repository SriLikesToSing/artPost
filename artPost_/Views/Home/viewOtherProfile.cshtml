@model List<artPost.Models.user>
@using Newtonsoft.Json;


@{
    ViewData["Title"] = "viewOtherProfile";
    var routeUrl = Url.RouteUrl(ViewContext.RouteData.Values);
    var qsPath = ViewContext.HttpContext.Request.QueryString.Value;
    var returnUrl = $"{routeUrl}{qsPath}";
    var USER_NAME = qsPath.Substring(7);
}

<p>@qsPath.Substring(7)</p>

@foreach(var item in Model)
{
    if(item.userName == USER_NAME)
    {
        <img src="data:image;base64,@System.Convert.ToBase64String(item.profilePic)"/>
        <p>@item.description</p>
        @foreach(var IMAGE in JsonConvert.DeserializeObject<List<Image>>(item.imagesJsonString))
        {
            <p>image ID: @IMAGE.iID</p>
            <img src="data:image;base64,@System.Convert.ToBase64String(IMAGE.image)" />
            <p> @IMAGE.Title</p>
            <p> @IMAGE.Description </p>
            <p> @IMAGE.likes</p>
            @Html.ActionLink(
      "Like",
      "check",                         // controller action
      "Home",        // controller
      new { name = item.userName, image = IMAGE.iID},         // action parameters aka route values
      new { @class = "btn btn-info" })
                // html attributes
        }
    }
}

